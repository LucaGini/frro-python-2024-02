{% extends "base.html" %}

{% block title %}Listado de Socios{% endblock %}

{% block content %}
<h1>Listado de Socios</h1>

<!-- Mostrar mensajes flash -->
{% with messages = get_flashed_messages(with_categories=True) %}
    {% if messages %}
        <ul class="flashes">
            {% for category, message in messages %}
                <li class="{{ category }}">{{ message }}</li>
            {% endfor %}
        </ul>
    {% endif %}
{% endwith %}

<!-- Botón Alta -->
<a href="{{ url_for('alta') }}" class="btn" style="margin-bottom: 5px; display: inline-block;">Alta</a>

<!-- Tabla de Socios -->
<table style="width: 100%; margin-top: 20px;">
    <thead>
        <tr>
            <th>ID</th>
            <th>DNI</th>
            <th>Nombre</th>
            <th>Apellido</th>
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
        {% for socio in socios %}
        <tr>
            <td>{{ socio.id_socio }}</td>
            <td>{{ socio.dni }}</td>
            <td>{{ socio.nombre }}</td>
            <td>{{ socio.apellido }}</td>
            <td>
                <!-- Botón Modificar -->
                <a href="{{ url_for('modificar', id=socio.id_socio) }}" class="btn">Modificar</a>
                <!-- Botón Baja -->
                <a href="{{ url_for('baja', id=socio.id_socio) }}" class="btn" onclick="return confirm('¿Estás seguro de que deseas eliminar este socio?')">Baja</a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
